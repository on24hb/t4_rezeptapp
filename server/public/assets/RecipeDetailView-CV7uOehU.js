import{d as w,r as d,j as z,x as L,c as i,h as m,k as F,l as x,t as r,a as o,F as B,n as C,w as _,p as D,g as V,z as $,o as a,_ as N}from"./index-CQ66hlSz.js";import{u as M}from"./tags-hyUKznts.js";import{R as S}from"./RecipeTags-BEyMkFtt.js";const A={class:"recipe-detail-view"},E={key:0},T={key:1,style:{color:"red"}},Z={key:2},j={class:"details-section"},U={class:"details-section"},q={style:{"white-space":"pre-wrap"}},G={class:"actions-footer"},H={key:3},J=w({__name:"RecipeDetailView",props:{id:{}},setup(g){const p=g,n=M(),R=$(),f=V(),s=d(null),c=d(!0),l=d(null);async function h(){c.value=!0,l.value=null;try{n.recipes.length===0&&!n.isLoading&&!n.error&&await n.fetchRecipes();const e=n.recipes.find(t=>t.id===p.id);e?s.value=e:l.value=`Rezept mit ID ${p.id} nicht gefunden.`}catch(e){console.error("Fehler beim Laden:",e),l.value=n.error||"Fehler beim Laden des Rezepts."}finally{c.value=!1}}z(h),L(()=>R.params.id,e=>{e&&typeof e=="string"&&e!==s.value?.id&&h()});async function k(e,t){confirm(`Möchtest du das Rezept "${t}" wirklich löschen?`)&&(console.log("Lösche Rezept:",e),await n.deleteRecipeAction(e)?(console.log("Rezept erfolgreich gelöscht."),f.push({name:"home"})):alert(`Fehler beim Löschen: ${n.error||"Unbekannter Fehler"}`))}function y(e){console.log("Navigiere zum Bearbeiten von Rezept:",e),f.push({name:"edit-recipe",params:{id:e}})}return(e,t)=>{const v=x("router-link");return a(),i("div",A,[m(v,{to:{name:"home"},class:"btn-back"},{default:F(()=>[...t[2]||(t[2]=[D("← Zurück",-1)])]),_:1}),c.value?(a(),i("div",E,"Lade Rezept...")):l.value?(a(),i("div",T,"Fehler: "+r(l.value),1)):s.value?(a(),i("article",Z,[o("h2",null,r(s.value.title),1),o("section",j,[t[3]||(t[3]=o("h3",null,"Zutaten",-1)),o("ul",null,[(a(!0),i(B,null,C(s.value.ingredients,(u,b)=>(a(),i("li",{key:b},r(u),1))),128))])]),o("section",U,[t[4]||(t[4]=o("h3",null,"Anleitung",-1)),o("p",q,r(s.value.instructions),1)]),m(S,{tags:s.value.tags},null,8,["tags"]),o("div",G,[o("button",{onClick:t[0]||(t[0]=_(u=>y(s.value.id),["stop"])),class:"btn-edit"},"Bearbeiten"),o("button",{onClick:t[1]||(t[1]=_(u=>k(s.value.id,s.value.title),["stop"])),class:"btn-delete"}," Löschen ")])])):(a(),i("div",H,"Rezept nicht gefunden."))])}}}),Q=N(J,[["__scopeId","data-v-99ff8dc9"]]);export{Q as default};
