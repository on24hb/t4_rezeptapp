import{u as v}from"./tags-hyUKznts.js";import{R as f}from"./RecipeForm-sQIrfsO8.js";import{d as _,r as l,j as R,c,a as h,s as k,b as y,h as b,t as g,k as x,l as w,p as V,g as z,o as s,_ as B}from"./index-CQ66hlSz.js";const C={class:"edit-recipe-view"},D={key:0},E={key:1,style:{color:"red"}},F=_({__name:"EditRecipeView",props:{id:{}},setup(d){const r=d,t=v(),p=z(),a=l(null),o=l(!0),i=l(null);R(async()=>{t.recipes.length===0&&await t.fetchRecipes();const n=t.recipes.find(e=>e.id===r.id);n?a.value={...n}:i.value=`Rezept mit ID ${r.id} nicht gefunden.`,o.value=!1});async function m(n){if(!a.value)return;o.value=!0,i.value=null;const e={...n,isFavorite:a.value.isFavorite};await t.updateRecipeAction(r.id,e)?p.push({name:"recipe-detail"}):i.value=t.error||"Rezept konnte nicht aktualisiert werden."}return(n,e)=>{const u=w("router-link");return s(),c("div",C,[e[1]||(e[1]=h("h2",null,"Rezept bearbeiten",-1)),o.value?(s(),c("p",D,"Lade Rezeptdaten...")):i.value?(s(),c("p",E,"Fehler: "+g(i.value),1)):a.value?(s(),k(f,{key:2,initialData:a.value,"is-loading-externally":o.value,onSubmitRecipe:m,"submit-button-text":"Ã„nderungen speichern"},null,8,["initialData","is-loading-externally"])):y("",!0),b(u,{to:{name:"recipe-detail"}},{default:x(()=>[...e[0]||(e[0]=[V("Abbrechen",-1)])]),_:1})])}}}),I=B(F,[["__scopeId","data-v-550d85d1"]]);export{I as default};
